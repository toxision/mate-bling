#!/usr/bin/bash
playing=$(mocp -i 2>/dev/null | sed -n 3p | awk -F ":" '{ print $NF }')
state=$(mocp -i 2>/dev/null | sed -n 1p | awk '{ print $2}')
timeleft=$(mocp -i 2>/dev/null | sed -n 8p | awk -F "TimeLeft:" '{ print $NF }')

if
	[ "$state" = PLAY ]; then
	status="â–¶"
elif
	[ "$state" = PAUSE ]; then
	status="â¸ï¸"
elif
	[ "$state" = STOP ]; then
	echo "ğŸ›‘ moc idling â•‘"
	exit
else
	echo "ğŸ¶ moc not running â•‘"
	exit
fi

if
	[ -z $playing ]; then
	playing=$(mocp -i | sed -n 2p | awk -F "/" '{ print $NF }')
fi

echo -e "$status $playing [â³$timeleft] â•‘"
